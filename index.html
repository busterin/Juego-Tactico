<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>TACTIC HEROES</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="stylesheet" href="style.css?v=landscape-stable" />
</head>
<body>
  <!-- Bloqueo por orientación vertical (el juego es horizontal 16:9) -->
  <div id="orientationBlocker" style="display:none">
    <div class="obx">
      <p>Gira el dispositivo para jugar en horizontal</p>
    </div>
  </div>

  <!-- Portada -->
  <div id="portada">
    <img src="assets/Portada.PNG" alt="Portada Tactic Heroes" class="portada-img" />
    <div class="portada-actions">
      <button id="btnNuevaPartida" class="btn-jugar primary">Nueva partida</button>
      <button id="btnCargarPartida" class="btn-cargar">Cargar partida</button>
    </div>
  </div>

  <!-- Secuencia de introducción (pantallas tipo Fire Emblem) -->
  <div id="introScene" style="display:none">
    <!-- La imagen de fondo ocupa toda la pantalla -->
    <img id="introImg" alt="Introducción" class="intro-img" />
    <!-- Caja de texto fija abajo (el script rellena el texto) -->
    <div class="intro-box">
      <div class="intro-text" id="introText"></div>
      <div class="intro-cta">
        <button id="btnIntroNext" class="primary small">Continuar</button>
      </div>
    </div>
  </div>

  <!-- Escena de diálogo (Risko/Hans/Guardián) -->
  <div id="dialogScene" style="display:none">
    <div class="dialog-bg"></div>

    <!-- Personajes (las src reales las pone el script con tolerancia .PNG/.png) -->
    <img class="dialog-char right" id="charKnight" alt="Risko" />
    <img class="dialog-char left"  id="charArcher" alt="Hans" />
    <img class="dialog-char left"  id="charGuardian" alt="Guardián" style="display:none" />

    <!-- Caja de diálogo (siempre en primer plano) -->
    <div class="dialog-box">
      <div class="dialog-name" id="dialogName">Risko</div>
      <div class="dialog-text" id="dialogText"></div>
      <div class="dialog-cta">
        <button id="btnDialogNext" class="primary small">Continuar</button>
      </div>
    </div>
  </div>

  <!-- Banner de inicio de combate + sonido de tambor -->
  <div id="battleStartBanner" class="battle-banner" style="display:none">
    ¡COMIENZA EL COMBATE!
  </div>
  <audio id="battleStartSound" preload="auto">
    <source src="assets/drum.mp3" type="audio/mpeg" />
    <source src="assets/drum.ogg" type="audio/ogg" />
  </audio>

  <!-- Overlay: NIVEL COMPLETADO -->
  <div id="overlayWin" class="overlay" style="display:none">
    <div class="overlay-box">
      <h1>NIVEL COMPLETADO</h1>
      <button id="btnContinuar" class="primary">Continuar</button>
    </div>
  </div>

  <!-- Banner de turno -->
  <div id="turnBanner" class="turn-banner" style="display:none">TU TURNO</div>

  <!-- Tablero (9x16) + HUD dentro -->
  <div id="mapa" style="display:none">
    <div id="hud">
      <div id="ficha"></div>
      <div id="acciones"></div>
    </div>
  </div>

  <!-- Botón Guardar (si no estuviera, el script lo crea) -->
  <button id="btnGuardar" style="display:none" class="btn-guardar">Guardar</button>

  <!-- Lógica -->
  <script src="script.js?v=landscape-stable"></script>
</body>
</html>